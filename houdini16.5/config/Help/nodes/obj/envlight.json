{"body": [{"indent": 0, "text": ["Environment Light"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Environment Lights provide background illumination from outside the scene."]}, {"indent": 0, "type": "para", "text": ["Environment lights illuminate the scene from a virtual hemisphere (or\nsphere) that is beyond that farthest geometry objects in the scene.\nEnvironment lights can be rotated to orient directional illumination, but\nthey cannot be translated."]}, {"indent": 0, "type": "para", "text": ["An environment light may use a texture map to provide HDRI illumination from an environment map. With no rotation, the environment map is oriented so that the top face aligns with the positive Y axis."]}, {"indent": 0, "type": "para", "text": ["See ", {"text": ["how to create an environment/reflection map"], "fullpath": "/render/envmaps", "scheme": null, "type": "link", "value": "/render/envmaps"}, "."]}, {"body": [{"body": [{"body": [{"body": [{"type": "para", "indent": 4, "text": ["The left menu chooses the order in which transforms are applied\n    (for example, scale, then rotate, then translate). This can change the\n    position and orientation of the object, in the same way that going a\n    block and turning east takes you to a different place than turning east\n    and then going a block."]}, {"type": "para", "indent": 4, "text": ["The right menu chooses the order in which to rotate around the\n    X, Y, and Z axes. Certain orders can make character joint\n    transforms easier to use, depending on the character."]}], "indent": 0, "text": ["Transform Order"], "role": "item", "attrs": {"id": "xord"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["Degrees rotation about XYZ axes."]}], "indent": 0, "text": ["Rotate"], "role": "item", "attrs": {"id": "r"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["Whether or not this object is displayed in the viewport and rendered.\n    Turn on the checkbox to have Houdini use this parameter,\n    then set the value to 0 to hide the object in the viewport and not render it,\n    or 1 to show and render the object.\n    If the checkbox is off, Houdini ignores the value."]}], "indent": 0, "text": ["Display"], "role": "item", "attrs": {"id": "display"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["Scales the viewport geometry. This parameter is only for display\n    purposes."]}], "indent": 0, "text": ["Icon scale"], "role": "item", "attrs": {"hprop": "iconscale"}, "type": "parameters_item", "id": "iconscale"}, {"body": [{"indent": 4, "type": "para", "text": ["Caches object transforms once Houdini calculates them. This is\n    especially useful for objects whose world space position is\n    expensive to calculate (such as ", {"text": ["Sticky objects"], "fullpath": "/nodes/obj/sticky", "scheme": "Node", "type": "link", "value": "/nodes/obj/sticky"}, "),\n    and objects at the end of long parenting chains (such as\n    ", {"text": ["Bones"], "fullpath": "/nodes/obj/bone", "scheme": "Node", "type": "link", "value": "/nodes/obj/bone"}, "). This option is turned on by default for Sticky and\n    Bone objects."]}, {"indent": 4, "type": "para", "text": ["See the ", {"text": ["OBJ Caching"], "type": "ui"}, " section of the\n    ", {"fragment": "#objcache", "text": ["Houdini Preferences"], "value": "/ref/windows/mainprefs#objcache", "fullpath": "/ref/windows/mainprefs#objcache", "scheme": null, "type": "link"}, " window\n    for how to control the size of the object transform cache."]}], "indent": 0, "text": ["Cache Object Transform"], "role": "item", "attrs": {"id": "cachedata"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["Object is capable of being picked in the viewport."]}], "indent": 0, "text": ["Viewport Selecting Enabled"], "role": "item", "attrs": {"id": "picking"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["Script to run when the object is picked in the viewport. See\n    ", {"text": ["select scripts"], "fullpath": "/commands/_guide", "scheme": null, "type": "link", "value": "/commands/_guide"}, " ."]}], "indent": 0, "text": ["Select Script"], "role": "item", "attrs": {"id": "pickscript"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Viewing Options"], "container": true, "type": "h", "id": null}, {"body": [], "indent": 0, "level": 3, "text": ["Lookat Options"], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Transform"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["The environment color or environment map tint if a map is used."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Light Color"]}, {"body": [{"indent": 4, "type": "para", "text": ["A scale on the color. If the intensity is 0, the light is disabled. The light will only be sent to the renderer if the object is included in the ", {"text": ["Force Lights"], "type": "ui"}, " parameter of the output driver."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Light Intensity"]}, {"body": [{"indent": 4, "type": "para", "text": ["Environment map to control the color and intensity of light arriving\n    from different directions.  The color from the environment map will be\n    tinted by the light color."]}, {"indent": 4, "type": "para", "text": ["This parameter will be disabled if ", {"text": ["Enable Sky Environment Map"], "type": "ui"}, "\n    (on the ", {"text": ["Sky Environment Map"], "type": "ui"}, " tab) is on."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Environment Map"]}, {"body": [{"indent": 4, "type": "para", "text": ["Turning this toggle off is equivalent to setting the light intensity to 0."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Light Enabled"]}, {"body": [{"indent": 4, "type": "para", "text": ["Turning this off removes the light from consideration in the\n    viewport.  This is useful for lights which only make sense at\n    render time."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Enable Light In Viewport"]}, {"body": [{"indent": 4, "type": "para", "text": ["The light will contribute to diffuse illumination when illuminating a surface."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Diffuse contribution"]}, {"body": [{"indent": 4, "type": "para", "text": ["The light will provide specular highlights on the surface when illuminating a surface."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Specular contribution"]}, {"body": [{"indent": 4, "type": "para", "text": ["Provides more detailed control over which shading components the light affects. To disable contribution to a named comopnent, specify the component name and disable the toggle."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Light Contributions"]}, {"body": [{"indent": 4, "type": "para", "text": ["Display the light as a geometry object in the render.  Environment\n    lights will appear as a background image in the render when this toggle\n    is enabled."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Render Light Geometry"]}, {"body": [{"indent": 4, "type": "para", "text": ["Forces the environment lighting to only emit light from the +Y\n    hemisphere.  When lighting a scene that occludes most illumination in\n    the -Y hemisphere (eg. a scene with a large ground plane), turning on\n    this toggle can improve rendering quality."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Clip To Positive Y Hemisphere"]}, {"body": [{"type": "para", "indent": 4, "text": ["The space or comma separated list of categories to which this object belongs."]}, {"type": "para", "indent": 4, "text": ["Currently not supported for per-primitive material assignment (material SOP)."]}], "indent": 0, "text": ["Categories"], "role": "item", "attrs": {"ifdprop": "object:categories", "hprop": "categories"}, "type": "parameters_item", "id": "categories"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 0, "type": "para", "text": ["Options that affect how light is produced by the environment light."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["The sampling style for environment illumination.  Environment\n    lighting is computed with raytracing by sending rays out into the\n    hemisphere above the shaded surface to analyze the amount of light\n    arriving at the surface from different directions."]}, {"indent": 4, "type": "para", "text": ["Which rendering mode you choose to use will depend on the type of\n    environment illumination as well as the geometry in your scene."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["The environment will be treated as a large area light enclosing the\n        scene.  If an environment map is used, mantra will send more\n        samples toward bright portions of the environment.  If you want the\n        environment to contribute to specular or reflective surfaces, you\n        should use this option."]}, {"indent": 8, "type": "para", "text": ["Direct lighting enables support for variance antialiasing when\n        rendering with PBR or when using the ", {"text": "", "fullpath": "/nodes/vop/surfacemodel", "scheme": "Node", "type": "link", "value": "/nodes/vop/surfacemodel"}, " VOP.\n        Variance antialiasing makes use of the min/max ray samples to\n        automatically detect and reduce noise in the lighting."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Normally \"Direct Lighting\" should be preferred in the following scenarios:"]}, {"body": [{"indent": 12, "blevel": 14, "type": "bullet", "text": ["When the environment map contains directional illumination (eg. parts of the map are much brighter than others)"]}, {"indent": 12, "blevel": 14, "type": "bullet", "text": ["When you require a specular contribution from the environment"]}, {"indent": 12, "blevel": 14, "type": "bullet", "text": ["When you require per-light exports"]}], "container": true, "type": "bullet_group"}], "indent": 8, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 4, "type": "dt", "text": ["Direct Lighting"]}, {"body": [{"indent": 8, "type": "para", "text": ["The environment will be computed using ambient occlusion.  Ambient\n        occlusion is computed using the ", {"text": ["VEX Global\n        Illumination"], "fullpath": "/nodes/shop/v_gilight", "scheme": "Node", "type": "link", "value": "/nodes/shop/v_gilight"}, " shader, and will send evenly\n        distributed rays in the hemisphere to check for blocking surfaces.\n        Ambient occlusion works best when computing lighting without an\n        environment map or with a map that has little variation in color\n        over the hemisphere.  Occlusion will only contribute to diffuse\n        lighting."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Use ambient occlusion in the following scenarios:"]}, {"body": [{"indent": 12, "blevel": 14, "type": "bullet", "text": ["When rendering without an environment map or when the environment lighting is uniform and not very intense."]}, {"indent": 12, "blevel": 14, "type": "bullet", "text": ["When using irradiance caching."]}], "container": true, "type": "bullet_group"}], "indent": 8, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 4, "type": "dt", "text": ["Ambient Occlusion"]}, {"body": [{"indent": 8, "type": "para", "text": ["The environment will contribute to the scene indirectly for shaders\n        that trace rays that exit the scene.  This mode is supported\n        through the ", {"text": "", "value": "/vex/functions/resolvemissedray", "fallback_text": "resolvemissedray()", "fullpath": "/vex/functions/resolvemissedray", "scheme": "Vex", "type": "link"}, " VEX function, which can be used\n        in shaders to query the background illumination for a given ray.\n        Ray Tracing Background mode is supported for the following\n        scenarios:"]}, {"body": [{"indent": 8, "blevel": 10, "type": "bullet", "text": ["PBR rendering (either micropolygon or raytracing)"]}, {"indent": 8, "blevel": 10, "type": "bullet", "text": ["Non-PBR rendering when using the ", {"text": "", "fullpath": "/nodes/vop/surfacemodel", "scheme": "Node", "type": "link", "value": "/nodes/vop/surfacemodel"}, " VOP"]}], "container": true, "type": "bullet_group"}, {"indent": 8, "type": "para", "text": ["In this mode, deep rasters from the environment light will appear\n        in the \"indirect_emission\" export plane rather than the per-light\n        diffuse/reflect/refract planes.  This will occur because the light\n        is treated like an emissive background object rather than as a true\n        light source."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Normally \"Ray Tracing Background\" should be preferred in the\n            following scenarios:"]}, {"body": [{"indent": 12, "blevel": 14, "type": "bullet", "text": ["When rendering without an environment map or when the environment lighting is uniform and not very intense"]}, {"indent": 12, "blevel": 14, "type": "bullet", "text": ["When you are using PBR or a shader that performs ray tracing to calculate most indirect lighting"]}, {"indent": 12, "blevel": 14, "type": "bullet", "text": ["When using an ", {"text": "", "fullpath": "/nodes/obj/indirectlight", "scheme": "Node", "type": "link", "value": "/nodes/obj/indirectlight"}, " to calculate irradiance, to speed up lighting for secondary rays"]}], "container": true, "type": "bullet_group"}], "indent": 8, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 4, "type": "dt", "text": ["Ray Tracing Background"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Rendering Mode"]}, {"body": [{"indent": 4, "type": "para", "text": ["The sampling quality multiplier for the light.  A value of 1 will use\n    the ray sampling parameters (", {"text": ["Min Ray Samples"], "type": "ui"}, ") from the output\n    driver directly.  Other values will proportionally increase or decrease\n    the sampling quality."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Sampling Quality"]}, {"body": [{"indent": 4, "type": "para", "text": ["When set to a non-zero value, this parameter enables\n    renderer-controlled filtering of the environment map to filter out high\n    frequency noise in glossy reflections of the environment light. The\n    amount of filtering is determined by the surface bsdf - with glossy\n    surfaces receiving more filtering. Filtering is automatically disabled\n    for diffuse surfaces and for mirror reflections to preserve accuracy in\n    the render for these components.  Using a non-zero value for this\n    setting may change the average brightness of the glossy highlights,\n    introducing some bias in the render."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Glossy Filter Amount"]}, {"body": [{"indent": 4, "type": "para", "text": ["Specifies a geometry object that can be used to optimize sampling of\n    environment lights in enclosed scenes.  The portal geometry describes\n    to the renderer where light can enter the enclosed scene, so that the\n    sampling algorithm can concentrate on the parts of the environment that\n    actually contribute lighting to a pixel.  Normally, the portal geometry\n    should be a geometry object that is not rendered, so that it does not\n    cast shadows on the scene, and that has only a single layer of surface\n    visible from any point in the scene - so that illumination is not\n    multiply counted."]}, {"indent": 4, "type": "para", "text": ["A correctly configured portal should produce the same rendered result\n    as when the portal is disabled, but with much less noise.  Portals\n    should normally not be used in outdoor scenes where the environment map\n    is fully visible, or when the environment map contains sharp variations\n    in intensity - since in these cases the standard direct lighting\n    algorithm may produce better results."]}, {"indent": 4, "type": "para", "text": ["Using an environment light with a portal is equivalent to creating a\n    standard ", {"text": ["geometry light"], "fullpath": "/nodes/obj/hlight", "scheme": "Node", "type": "link", "value": "/nodes/obj/hlight"}, " with physically correct\n    attenuation, no intensity normalization, and transform into this object\n    enabled."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Portal Geometry"]}, {"body": [{"indent": 4, "type": "para", "text": ["Maximum distance from the sample point to consider geometry for\n    irradiance/occlusion."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Ray Distance"]}, {"body": [{"indent": 4, "type": "para", "text": ["Half-angle over which to send rays for irradiance/occlusion.  90\n    degrees is a full hemisphere."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Sampling Angle"]}, {"body": [{"indent": 4, "type": "para", "text": ["Turns on an automatic optimization that will reduce the number of\n    samples when there is little variation in occlusion above the\n    sample point. This can improve performance at the expense of some\n    possible flickering or additional noise.  Adaptive sampling will\n    only take effect with more than 64 samples."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Adaptive Sampling"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Render Options"], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "text": ["Options to automatically create a \"sky and ground\" environment map\nfor the light."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["Automatically create a \"sky and ground\" environment map. When this\n    parameter is on, the ", {"text": ["Environment Map"], "type": "ui"}, " parameter (on the\n    ", {"text": ["Environment"], "type": "ui"}, " tab) will be disabled."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Enable Sky Environment Map"]}, {"body": [{"indent": 4, "type": "para", "text": ["The resolution (in pixels per cube side) of the environment map."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Resolution"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "type": "para", "text": ["The other parameters on this tab are identical to the parameters of\nthe ", {"text": ["Sky Environment Map compositing node"], "fullpath": "/nodes/cop2/skyenvmap", "scheme": "Node", "type": "link", "value": "/nodes/cop2/skyenvmap"}, "."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["The type of direction to calculate. Either ", {"text": ["Away from Sun"], "type": "ui"}, " or ", {"text": ["Towards the Sun"], "type": "ui"}, "."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Direction"]}, {"body": [{"indent": 4, "type": "para", "text": ["The direction vector for the sun."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Calculated Vector"]}, {"body": [{"indent": 4, "type": "para", "text": ["The Euler rotation angles to align -Z axis with the ", {"text": ["Calculated Vector"], "type": "ui"}, "."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Calculated Rotate"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Sky Environment Map"], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Light"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"body": [{"body": [{"indent": 8, "type": "para", "text": ["No shadows will be cast by this light."]}], "indent": 4, "type": "dt", "text": ["None"]}, {"body": [{"indent": 8, "type": "para", "text": ["Ray-tracing will be used to compute shadows from this light source."]}], "indent": 4, "type": "dt", "text": ["Ray-Traced Shadows"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Shadow Type"]}, {"body": [{"indent": 4, "type": "para", "text": ["A mask of objects which will be considered occluders for the light source. When ray-traced shadows are used, only these objects will be intersected by shadow rays. When depth map shadows are used, only these objects will appear in the depth map."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["It is possible to use categories by adding the shadowcategories rendering parameter."]}], "indent": 4, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Shadow Mask"]}, {"body": [{"indent": 4, "type": "para", "text": ["A scale on how much light is blocked by occluders. By decreasing the shadow intensity, the occluders will not block all the light, allowing some illumination through."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Shadow Intensity"]}, {"body": [{"indent": 4, "type": "para", "text": ["When this option is turned on, the surface shader of occluders will be evaluated to determine the opacity. Turning this option on will cause deep shadow maps to be used when shadowing using Depth Map Shadows."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Transparent Shadows"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Shadow"], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}], "title": ["Environment Light"], "summary": ["Environment Lights provide background illumination from outside the scene."], "attrs": {"version": null, "tags": "lights", "namespace": null, "internal": "envlight", "context": "obj", "type": "node", "icon": "OBJ/light_environment"}, "included": ["/nodes/obj/common", "/nodes/obj/misc_parms", "/props/_minmax_styles", "/props/mantra"], "type": "root"}