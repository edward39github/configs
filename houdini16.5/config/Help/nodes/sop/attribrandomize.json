{"body": [{"indent": 0, "text": ["Attribute Randomize"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Generates random attribute values of various distributions."]}, {"body": [{"indent": 0, "type": "para", "text": ["This node generates random values to create or modify an attribute."]}, {"indent": 0, "type": "para", "text": ["Turn on the ", {"text": ["Visualize as Points"], "type": "ui"}, " toggle to preview the probability distribution as a generated point cloud whose positions are drawn from the distribution."]}], "indent": 0, "level": 2, "text": ["Overview"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["The subset of geometry whose attribute should be modified."]}, {"indent": 4, "type": "para", "text": ["This can be a point, vertex, primitive, or edge group.  If necessary, it will be expanded to a point, vertex, or primitive group, depending on the value of ", {"text": ["Attribute Class"], "type": "ui"}, ".\n    If the input geometry doesn\u2019t have the specified attribute, geometry elements outside the group will get the value zero."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "group"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["The type of group that ", {"text": ["Group"], "type": "ui"}, " specifies."]}, {"indent": 4, "type": "para", "text": ["If ", {"text": ["Guess from Group"], "type": "ui"}, " is specified and the group type is ambiguous, the guess is made that ", {"text": ["Group"], "type": "ui"}, " specifies a point group."]}], "indent": 0, "text": ["Group Type"], "role": "item", "attrs": {"id": "grouptype"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["The type of elements for which to create or modify the attribute specified by, ", {"text": ["Attribute Name"], "type": "ui"}, "."]}], "indent": 0, "text": ["Attribute Class"], "role": "item", "attrs": {"id": "class"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["The name of the attribute to create or modify."]}, {"indent": 4, "type": "para", "text": ["It will be added to the type of elements specified by ", {"text": ["Attribute Class"], "type": "ui"}, "."]}], "indent": 0, "text": ["Attribute Name"], "role": "item", "attrs": {"id": "name"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["Specifies how to modify existing attribute values.  If the attribute doesn\u2019t already exist, this should be ", {"text": ["Set Value"], "type": "ui"}, "."]}, {"indent": 4, "type": "para", "text": [{"text": ["Set Value"], "type": "ui"}, " means that the generated value will be written over the existing attribute value.\n    ", {"text": ["Add Value"], "type": "ui"}, " means that the generated value will be added to the existing attribute value.\n    ", {"text": ["Minimum"], "type": "ui"}, "/", {"text": ["Maximum"], "type": "ui"}, " means that the final attribute value will be the minimum/maximum of the generated value and the existing attribute value.\n    ", {"text": ["Multiply"], "type": "ui"}, " means that the existing attribute value will be multiplied by the generated value."]}], "indent": 0, "text": ["Operation"], "role": "item", "attrs": {"id": "operation"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["Scales the generated value just before applying the operation specified by ", {"text": ["Operation"], "type": "ui"}, "."]}], "indent": 0, "text": ["Global Scale"], "role": "item", "attrs": {"id": "scale"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["Overall type of probability distribution from which values are generated."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["The generated values will all be the specified value, instead of being random."]}], "indent": 4, "type": "dt", "text": ["Constant Value"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will either be ", {"text": ["Value A"], "type": "ui"}, " or ", {"text": ["Value B"], "type": "ui"}, ", depending on ", {"text": ["Probability of Value B"], "type": "ui"}, "."]}], "indent": 4, "type": "dt", "text": ["Two Values"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be between ", {"text": ["Min Value"], "type": "ui"}, " and ", {"text": ["Max Value"], "type": "ui"}, ", with equal probability for all values in that range."]}], "indent": 4, "type": "dt", "text": ["Uniform (Continuous)"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be between ", {"text": ["Min Value"], "type": "ui"}, " and ", {"text": ["Max Value"], "type": "ui"}, " (inclusive), landing only on values that are some\n        multiple of ", {"text": ["Step Size"], "type": "ui"}, " greater than ", {"text": ["Min Value"], "type": "ui"}, "."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/uniform_2d.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/uniform_2d.jpg"}]}], "indent": 4, "type": "dt", "text": ["Uniform (Discrete)"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be unit vectors (i.e. length 1) with the specified number of ", {"text": ["Dimensions"], "type": "ui"}, ".\n        The samples will be uniform random unit vectors, within any ", {"text": ["Cone Angle"], "type": "ui"}, " of ", {"text": ["Direction"], "type": "ui"}, ", unless ", {"text": ["Bias Toward Direction"], "type": "ui"}, " is used."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["For 4 ", {"text": ["Dimensions"], "type": "ui"}, " that ", {"text": ["Cone Angle"], "type": "ui"}, " is the maximum quaternion rotation angle away from ", {"text": ["Direction"], "type": "ui"}, ", which is twice the Euclidean cone angle of the unit 4D hypersphere being sampled."]}], "indent": 8, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/direction_cone.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/direction_cone.jpg"}, "\n        ", {"text": "", "fullpath": "/images/nodes/sop/attribrandomize/direction_bias.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/direction_bias.jpg"}, "\n        ", {"text": "", "fullpath": "/images/nodes/sop/attribrandomize/orientation_cone.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/orientation_cone.jpg"}]}], "indent": 4, "type": "dt", "text": ["Direction or Orientation"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be vectors with length less than 1, i.e. inside the unit sphere, with the specified number of ", {"text": ["Dimensions"], "type": "ui"}, ".\n        The samples will be uniform random unit vectors, within any ", {"text": ["Cone Angle"], "type": "ui"}, " of ", {"text": ["Direction"], "type": "ui"}, ", unless ", {"text": ["Bias Toward Direction"], "type": "ui"}, " is used."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/circle_slice.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/circle_slice.jpg"}, "\n        ", {"text": "", "fullpath": "/images/nodes/sop/attribrandomize/sphere_cone.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/sphere_cone.jpg"}]}], "indent": 4, "type": "dt", "text": ["Inside Sphere"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be drawn from the normal distribution whose mean/median is given by ", {"text": ["Middle Value"], "type": "ui"}, ",\n        and whose standard deviation is given by ", {"text": ["Scale Around Middle"], "type": "ui"}, "."]}, {"indent": 8, "type": "para", "text": ["In multiple ", {"text": ["Dimensions"], "type": "ui"}, ", this distribution is naturally isotropic, i.e. rotationally symmetrical."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/normal_distrib.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/normal_distrib.jpg"}]}], "indent": 4, "type": "dt", "text": ["Normal (Gaussian)"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be drawn from the exponential distribution whose median is given by ", {"text": ["Middle Value"], "type": "ui"}, ".\n        The mean and the standard deviation are equal to the median divided by ", {"text": ["ln(2)"], "type": "code"}, "."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/exponential_distrib.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/exponential_distrib.jpg"}]}], "indent": 4, "type": "dt", "text": ["Exponential"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be drawn from the log-normal distribution whose median is given by ", {"text": ["Middle Value"], "type": "ui"}, ", and whose standard deviation is given by ", {"text": ["Spread Around Middle"], "type": "ui"}, ".  This distribution is useful for generating random scales, because its values are strictly positive, and it tapers off toward zero, helping avoid\n        scales that are too small or negative."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/lognormal_distrib.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/lognormal_distrib.jpg"}]}, {"indent": 8, "type": "para", "text": ["The parameter \u03bc, of the underlying normal distribution is ", {"text": ["ln(median)"], "type": "code"}, ".\n        The parameter \u03c3, of the underlying normal distribution is\n        ", {"text": ["sqrt(log(0.5*(1 + sqrt(1 + 4*(stddev*stddev)/(median*median)))))"], "type": "code"}, "."]}], "indent": 4, "type": "dt", "text": ["Log-Normal"]}, {"body": [{"indent": 8, "type": "para", "text": ["The generated values will be drawn from the Cauchy distribution whose median is given by ", {"text": ["Middle Value"], "type": "ui"}, ", and whose scale parameter, \u03b3, is given by ", {"text": ["Scale Around Middle"], "type": "ui"}, ".  This distribution has larger tails than the normal distribution, so it has more outliers, meaning that ", {"text": ["Min Value"], "type": "ui"}, " and ", {"text": ["Max Value"], "type": "ui"}, " will probably be useful for preventing problematic outliers."]}, {"indent": 8, "type": "para", "text": ["With ", {"text": ["Dimensions"], "type": "ui"}, " greater than 1, this samples the multi-variate Cauchy distribution, forcing the distribution to be isotropic, i.e. rotationally symmetrical.  For 2 ", {"text": ["Dimensions"], "type": "ui"}, ", this is the distribution of photons hitting a plane from a point light at ", {"text": ["(0,0,scale)"], "type": "code"}, "."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/cauchy_distrib.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/cauchy_distrib.jpg"}]}], "indent": 4, "type": "dt", "text": ["Cauchy-Lorentz"]}, {"body": [{"indent": 8, "type": "para", "text": ["The custom ramp will be sampled as the inverse cumulative distribution function (inverse CDF) of a probability distribution, and then scaled by ", {"text": ["Fit Value 1 To"], "type": "ui"}, " minus ", {"text": ["Fit Value 0 To"], "type": "ui"}, ", and added to ", {"text": ["Fit Value 0 To"], "type": "ui"}, "."]}], "indent": 4, "type": "dt", "text": ["Custom Ramp"]}, {"body": [{"indent": 8, "type": "para", "text": ["The specified values will be sampled with the specified weights, i.e. unnormalized probabilities."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Specifies whether to randomly sample from a list of ", {"text": ["Float"], "type": "ui"}, " or ", {"text": ["String"], "type": "ui"}, " values."]}], "indent": 8, "type": "dt", "text": ["Type"]}], "container": true, "type": "dt_group"}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/attribrandomize/discrete_example.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/attribrandomize/discrete_example.jpg"}]}], "indent": 4, "type": "dt", "text": ["Custom Discrete"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Distribution"], "role": "item", "attrs": {"id": "distribution"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Distribution"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["When enabled, the specified number of points are generated whose positions are sampled from the specified distribution, instead of modifying input geometry.\n    No input is needed when this is enabled."]}], "indent": 0, "text": ["Visualize as Points"], "role": "item", "attrs": {"id": "visualize"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["When enabled, the specified number of points are generated whose positions are sampled from the specified distribution, instead of modifying input geometry.\n    No input is needed when this is enabled."]}], "indent": 0, "text": ["Visualize as Points"], "role": "item", "attrs": {"id": "nvisualizepts"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["This gives a way of non-randomly sampling the distribution, by specifying locations in the uniform parametric space of the distribution, known as \"quantiles\"."]}, {"indent": 4, "type": "para", "text": ["For example, if the fraction attribute is 0.61 for some element, and the distribution is continuous and 1-dimensional, the resulting value should be greater than exactly 61% of samples, if one were to sample the distribution an infinite number of times.\n    For multi-dimensional distributions, the fraction attribute should have as many components as are needed to represent the distribution.\n    For example, when sampling directions in 3D, it should have size 2, corresponding (non-linearly) with longitude and latitude."]}], "indent": 0, "text": ["Fraction Attribute"], "role": "item", "attrs": {"id": "fractionattrib"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["All generated values depend (psuedo)randomly on this value.  No two Attribute Randomize nodes in a scene should have the same value here, unless required, because the same or similar values may be generated if two are the same.  Choose a different value if the current seed produces samples that are from the right distribution, but happen to be undesirable samples."]}, {"indent": 4, "type": "para", "text": ["This is not applicable when ", {"text": ["Fraction Attribute"], "type": "ui"}, " is enabled."]}], "indent": 0, "text": ["Global Seed"], "role": "item", "attrs": {"id": "seed"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["When disabled, the element number is used as a random seed for each element, in addition to the ", {"text": ["Global Seed"], "type": "ui"}, " parameter.\n    When enabled, the specified attribute is used instead, which allows for consistent generation when deleting geometry, if using a consistent ID.\n    It also allows changing of seeds for just a subset of the elements, when only some samples are undesirable."]}, {"indent": 4, "type": "para", "text": ["This is not applicable when ", {"text": ["Fraction Attribute"], "type": "ui"}, " is enabled."]}], "indent": 0, "text": ["Seed Attribute"], "role": "item", "attrs": {"id": "seedattrib"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Options"], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/attribwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribwrangle"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}], "summary": ["Generates random attribute values of various distributions."], "type": "root", "attrs": {"version": null, "tags": "attrs, random", "namespace": null, "internal": "attribrandomize", "context": "sop", "type": "node", "icon": "SOP/attribrandomize"}, "title": ["Attribute Randomize"]}