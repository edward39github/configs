{"body": [{"indent": 0, "text": ["Point Topology qL"], "type": "title", "level": 0}, {"indent": 0, "type": "para", "text": [{"text": ["interface version 1"], "type": "strong"}]}, {"indent": 0, "type": "summary", "text": ["Performs various topology-related (or other specific) queries and stores the results in point attributes."]}, {"indent": 0, "type": "para", "text": ["This operator can generate point attributes and/or point groups, based on the points'\ntopological properties. There\u2019s a built-in visualizer to quickly display the results."]}, {"indent": 0, "type": "para", "text": [{"text": "", "fullpath": "/nodes/sop/qLib--point_topology_ql-1/point_topology_ql_sop_main.png", "scheme": "Image", "type": "link", "value": "/nodes/sop/qLib--point_topology_ql-1/point_topology_ql_sop_main.png"}]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": ["Detecting coincident points (the un-fused points at the tube caps' edges)."], "type": "em"}, "\n  ", {"text": ["The integrated visualizer is enabled to display the results."], "type": "em"}]}], "container": true, "type": "bullet_group"}, {"indent": 0, "type": "para", "text": ["Use cases include:"]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": ["Finding and visualizing coincident points (\"un-Fused\", see image above)"]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["Counting topological neighbours (and group endpoints for curves)"]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["Visualizing points on geometry borders (to detect possible \"geometry leaks\")"]}], "container": true, "type": "bullet_group"}, {"indent": 0, "type": "para", "text": ["It can also generate other miscellaneous \"convenience\" attributes\n(e.g. relative age for particles)."]}, {"body": [{"indent": 4, "type": "para", "text": ["Various queries are available:"]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["Finds out how many points occupy the same spatial coordinate.\n        (Can be useful to detect un-", {"text": ["Fused"], "fullpath": "/nodes/sop/fuse", "scheme": "Node", "type": "link", "value": "/nodes/sop/fuse"}, " points.)\n        Optionally, multiple coincident points can be grouped.\n        The visualization mode can be used to quickly inspect geometry for un-fused points."]}], "indent": 4, "type": "dt", "text": ["Coincident Point Count"]}, {"body": [{"indent": 8, "type": "para", "text": ["Determines the number of topological neighbours for each point\n        (ie. connected with an edge).\n        Optionally, points with small neighbour count (e.g. curve endpoints\n        or \"lonely\" points) can be grouped."]}], "indent": 4, "type": "dt", "text": ["Neighbour Count"]}, {"body": [{"indent": 8, "type": "para", "text": ["For each geometry point, it determines if it is on a geometry boundary,\n        and stores the information in an attribute and/or group(s)."]}], "indent": 4, "type": "dt", "text": ["Borders"]}, {"body": [{"indent": 8, "type": "para", "text": ["This section has options for creating various convenience attributes\n        for several geometry classes (regular geometry, particles, L-systems)."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Stores point or vertex indices (vertex counts, etc.) as per-point attribute(s).\n            The vertex index is relative to the primitive the point belongs to."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Most vertex- and primitive-related values are usually ambiguous on polyhedra, since most points belong to\n                more than one primitive. These values make more sense on curves, or row/column based geometry\n                (e.g. NURBS or meshes)."]}], "indent": 12, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 8, "type": "dt", "text": ["Geometry"]}, {"body": [{"indent": 12, "type": "para", "text": ["Various per-point attributes can be created\n            (such as relative age for particles/L-systems, etc.)"]}], "indent": 8, "type": "dt", "text": ["Particles, L-Systems"]}], "container": true, "type": "dt_group"}], "indent": 4, "type": "dt", "text": ["Indices & Attributes (point, vertex, etc.)"]}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Description", "role": "section", "container": true, "type": "description_section", "id": "description"}, {"indent": 0, "type": "para", "text": [{"text": "", "fullpath": "/nodes/sop/qLib--point_topology_ql-1/point_topology_ql_sop_neighbours.png", "scheme": "Image", "type": "link", "value": "/nodes/sop/qLib--point_topology_ql-1/point_topology_ql_sop_neighbours.png"}]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": ["For each point, the number of topological neighbours (i.e. connected with an edge) is stored in an attribute"], "type": "em"}, "\n  ", {"text": ["(with the visualizer displaying 3 neighbours with black, 7 with bright yellow.)"], "type": "em"}]}], "container": true, "type": "bullet_group"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "text": ["Enable visualization of various topological properties. If enabled, a ", {"text": ["Visualization"], "type": "code"}, " tab will appear in\n        all parameter sections that support it. (All visualizations are layered on top of each other in an additive\n        fashion.)"]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["No visualization."]}], "indent": 8, "type": "dt", "text": ["Disabled"]}, {"body": [{"indent": 12, "type": "para", "text": ["A specified value range is mapped to a color ramp, then displayed as per-point colors."]}], "indent": 8, "type": "dt", "text": ["Colors"]}, {"body": [{"indent": 12, "type": "para", "text": ["A particle system is added to the geometry points to make them visually more distinctive."]}], "indent": 8, "type": "dt", "text": ["Colors + Points"]}, {"body": [{"indent": 12, "type": "para", "text": ["All geometry but the point particles will be removed (all topology-related calculations will\n            still be correct)."]}], "indent": 8, "type": "dt", "text": ["Colors, Points Only"]}], "container": true, "type": "dt_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Visualization"]}, {"body": [{"indent": 8, "type": "para", "text": ["The default (base) color for the various visualization layers."]}, {"indent": 8, "type": "para", "text": ["If the input geometry already has a color attribute, this parameter will be ignored.\n        (Use the \"set\" switch on the right to always force-override with the base color.)"]}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Base Color"]}, {"body": [{"indent": 8, "type": "para", "text": ["Points are considered coincident if they are closer than a specified minimum distance (tolerance)."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Enable counting of coincident points."]}], "indent": 8, "type": "dt", "text": ["Count Coincident Points"]}, {"body": [{"indent": 12, "type": "para", "text": ["Distance tolerance for coincident point detection.\n            Points closer than this distance are considered coincident."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Using larger values for this radius can emulate behaviour similar to the\n                nearest-neighbour calculation of the ", {"text": "", "fullpath": "/nodes/sop/scatter", "scheme": "Node", "type": "link", "value": "/nodes/sop/scatter"}, " SOP."]}], "indent": 12, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 8, "type": "dt", "text": ["Search Radius"]}, {"body": [{"indent": 12, "type": "para", "text": ["The maximum number of points to be considered as coincident within the search radius."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["This limit applies even if there are more points occupying the same location.\n                (In that case try increasing this value.)"]}], "indent": 12, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 8, "type": "dt", "text": ["Max Points"]}, {"body": [{"indent": 12, "type": "para", "text": ["Attribute to store the point count. (All coincident points will have the same count value.)"]}], "indent": 8, "type": "dt", "text": ["Attribute, Variable"]}, {"body": [{"indent": 12, "type": "para", "text": ["Name of a point group to be created, based on a point count criterion (see below)."]}], "indent": 8, "type": "dt", "text": ["Group"]}, {"body": [{"body": [{"body": [{"indent": 16, "type": "para", "text": ["Group points which have the given number of coincidents, or more."]}], "indent": 12, "type": "dt", "text": ["Equal or Greater"]}, {"body": [{"indent": 16, "type": "para", "text": ["Group points that have exactly the same coincidents as specified."]}], "indent": 12, "type": "dt", "text": ["Equal"]}, {"body": [{"indent": 16, "type": "para", "text": ["Group points which have the given number of coincidents, or less."]}], "indent": 12, "type": "dt", "text": ["Equal or Less"]}], "container": true, "type": "dt_group"}], "indent": 8, "type": "dt", "text": ["Grouping Criterion"]}], "container": true, "type": "dt_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Coincident Points"]}, {"body": [{"indent": 8, "type": "para", "text": ["Topological neighbour counting.\n        Points are considered neighbours if they are connected through a single edge."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Enable counting of neighbours for each point."]}], "indent": 8, "type": "dt", "text": ["Count Neighbours"]}], "container": true, "type": "dt_group"}, {"indent": 8, "type": "para", "text": ["For description of parameters see the ", {"text": ["Coincident Points"], "type": "code"}, " section above."]}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Neighbours"]}, {"body": [{"indent": 8, "type": "para", "text": ["Determines if a point is on a geometry boundary or border."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Enable geometry boundary point detection."]}], "indent": 8, "type": "dt", "text": ["Detect Border Points"]}, {"body": [{"indent": 12, "type": "para", "text": ["Attribute to store the on-boundary status."]}], "indent": 8, "type": "dt", "text": ["Attribute, Variable"]}, {"body": [{"indent": 12, "type": "para", "text": ["Attribute values for border and inside status, accordingly."]}], "indent": 8, "type": "dt", "text": ["Values (Border, Inside)"]}, {"body": [{"indent": 12, "type": "para", "text": ["If enabled, points are added to the group(s) where they belong."]}], "indent": 8, "type": "dt", "text": ["Border Group, Inside Group"]}], "container": true, "type": "dt_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Borders"]}, {"body": [{"indent": 8, "type": "para", "text": ["Storing of various index counts (or other convenience values) as per-point attributes.\n        (Note that most vertex-related indices are make best sense for curves or row/column based surfaces \u2013\n        e.g. curves, etc.)"]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Extract various geomety-related indices."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Store the point index of each point.\n                (This is slightly analogous to the ", {"text": ["origin"], "type": "code"}, " attribute in POP networks.)"]}], "indent": 12, "type": "dt", "text": ["Point Index"]}, {"body": [{"indent": 16, "type": "para", "text": ["Store point indices in a percentage-type format (in the range of ", {"text": ["[0..1]"], "type": "code"}, ")."]}], "indent": 12, "type": "dt", "text": ["Point Idx ", {"text": ["[0..1]"], "type": "code"}]}, {"body": [{"indent": 16, "type": "para", "text": ["Store vertex indices.\n                (Note that in order to get proper results for a polymesh, its points have to be un", {"text": "", "fullpath": "/nodes/sop/fuse", "scheme": "Node", "type": "link", "value": "/nodes/sop/fuse"}, "d first.)"]}], "indent": 12, "type": "dt", "text": ["Vertex Index"]}, {"body": [{"indent": 16, "type": "para", "text": ["Store vertex indices, percentage-style (in the range ", {"text": ["[0..1]"], "type": "code"}, ").\n                (Note that for curves this is actually very similar to uniform parametrization.)"]}], "indent": 12, "type": "dt", "text": ["Vertex Idx ", {"text": ["[0..1]"], "type": "code"}]}, {"body": [{"indent": 16, "type": "para", "text": ["Store the vertex count of the related primitive, for each point."]}], "indent": 12, "type": "dt", "text": ["Vertices on Prim"]}, {"body": [{"indent": 16, "type": "para", "text": ["Store the index of the primitive the given points belongs to."]}], "indent": 12, "type": "dt", "text": ["Primitive Index"]}], "container": true, "type": "dt_group"}], "indent": 8, "type": "dt", "text": ["Geometry"]}, {"body": [{"indent": 12, "type": "para", "text": ["Extract various particle-related convenience values."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Store per-particle normalized age as a new attribute.\n                (Same as the ", {"text": ["$LIFE"], "type": "code"}, " local variable.)"]}], "indent": 12, "type": "dt", "text": ["Age ", {"text": ["[0..1]"], "type": "code"}]}, {"body": [{"indent": 16, "type": "para", "text": ["The values of ", {"text": ["age"], "type": "code"}, " and ", {"text": ["life"], "type": "code"}, " VEX variables returned as attributes."]}], "indent": 12, "type": "dt", "text": ["Current Age, Life Span"]}, {"body": [{"indent": 16, "type": "para", "text": ["The magnitudes of per-point velocity vectors ", {"text": ["v"], "type": "code"}, "."]}], "indent": 12, "type": "dt", "text": ["Velocity Length"]}], "container": true, "type": "dt_group"}], "indent": 8, "type": "dt", "text": ["Particles"]}, {"body": [{"indent": 12, "type": "para", "text": ["Various L-system-related convenience attributes."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Store the normalized value of the L-system ", {"text": ["gen"], "type": "code"}, " attribute as a new attribute.\n                (Requires the ", {"text": ["gen"], "type": "code"}, " per-point attribute to be present.)"]}, {"indent": 16, "type": "para", "text": ["(The ", {"text": ["gen"], "type": "code"}, " attribute stores the L-system generation depth, but it has the same\n                value for each point in the same L-system primitive.)"]}], "indent": 12, "type": "dt", "text": ["Generation ", {"text": ["[0..1]"], "type": "code"}]}, {"body": [{"indent": 16, "type": "para", "text": ["Store the normalized value of the L-system ", {"text": ["lage"], "type": "code"}, " attribute as a new attribute.\n                (Requires the ", {"text": ["lage"], "type": "code"}, " per-point attribute to be present.)"]}, {"indent": 16, "type": "para", "text": ["(The ", {"text": ["lage"], "type": "code"}, " attribute is similar to ", {"text": ["gen"], "type": "code"}, ", but it increases within the same\n                L-system primitive as well \u2013 it act as a parametrization of some sort.)"]}], "indent": 12, "type": "dt", "text": ["Age ", {"text": ["[0..1]"], "type": "code"}]}], "container": true, "type": "dt_group"}], "indent": 8, "type": "dt", "text": ["L-Systems"]}], "container": true, "type": "dt_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Indices & Attributes"]}, {"body": [{"indent": 8, "type": "para", "text": ["After generating the new attribute(s), this convenience field allows old attributes\n        to be deleted (if they're not needed any further)."]}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Remove Attribs"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": ["Attrib Builder qL"], "scheme": "Node", "type": "link", "exists": true, "value": "/nodes/sop/qLib::attrib_builder_ql::1"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": ["Attr Visualize qL"], "scheme": "Node", "type": "link", "exists": true, "value": "/nodes/sop/qLib::attr_visualize_ql::1"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": ["Attrib Ramp qL"], "scheme": "Node", "type": "link", "exists": true, "value": "/nodes/sop/qLib::attrib_ramp_ql::1"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/fuse", "scheme": "Node", "type": "link", "value": "/nodes/sop/fuse"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/facet", "scheme": "Node", "type": "link", "value": "/nodes/sop/facet"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Borders' visualization now works only if the attribute is generated"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Option for outputting integers or floats where ints are applicable by default"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["\u2026"]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": ["Todo"], "role": "section", "container": true, "type": "todo_section", "id": "todo"}, {"body": [{"indent": 0, "type": "para", "text": [{"text": ["interface version 1"], "type": "em"}, " \u2014"]}, {"body": [{"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Visualization is not additive by default (#521)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Minor update to help for the H15+ help format (handles escape characters differently)"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2017-02-09"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Fixed parameter back-linking issue with guide group preset menu button"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2015-01-16"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Point groups (coincident, neighbour) are always created (even if empty)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added group highlighting options (not the prettiest, internally)"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2015-01-15"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added \"Velocity Length\" particle option (magnitude of per-point ", {"text": ["v"], "type": "code"}, " attribute)"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-10-18"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Prefixed all internal vopsop params so they wouldn\u2019t collide\n      with regular geometry attributes (e.g. \"radius\", etc.)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added Point Group parameter for Coincident Points and Neighbours tabs"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-09-15"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added \"Borders\" tab (to detect geometry border edge points)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added display gamma"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["\"Base Color\" can now be switched off"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Minor UI cleanups"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-08-08"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Changed all visualization ramps to HSV mode (it\u2019s usually much more useful in visualizations)."]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2013-10-01"]}, {"body": [{"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "bullet", "text": ["Particle current age, life span"]}], "container": true, "type": "bullet_group"}], "indent": 4, "blevel": 6, "type": "bullet", "text": ["Added support for the following attributes (\"life\" decoupling) \u2014"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2013-08-21"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Renamed some parameters (\"Point Index\", \"Vertex Index\", coi_grp_num \u2013 this should bump to interface v2)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added default expressions for all variable fields"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added descriptive parm (displays extra info in the network view)"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2013-04-19"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Now deletes detail attributes as well (optional post-operation attribute cleanup)."]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2013-04-07"]}, {"body": [{"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "bullet", "text": ["Particle normalized age"]}, {"indent": 8, "blevel": 10, "type": "bullet", "text": ["L-system normalized generation and age"]}], "container": true, "type": "bullet_group"}], "indent": 4, "blevel": 6, "type": "bullet", "text": ["Added support for the following attributes \u2014"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added post operation: remove a list of specified attributes"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Improved performance when vertex-related indices are not queried."]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2013-02-15"]}], "container": true, "type": "dt_group"}, {"indent": 0, "type": "para", "text": [{"text": ["older versions"], "type": "em"}, " \u2014"]}, {"body": [{"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added visualization modes for coincidents and neighbours."]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Help card enhancements."]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["Version 0.0.3"]}, {"body": [{"indent": 4, "type": "para", "text": ["Interfacelift; better Help card."]}], "indent": 0, "type": "dt", "text": ["Version 0.0.2"]}, {"body": [{"indent": 4, "type": "para", "text": ["Initial release."]}], "indent": 0, "type": "dt", "text": ["Version 0.0.1"]}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": ["Release Notes"], "role": "section", "container": true, "type": "relnotes_section", "id": "relnotes"}], "summary": ["Performs various topology-related (or other specific) queries and stores the results in point attributes."], "type": "root", "attrs": {"version": "1", "namespace": "qLib", "internal": "point_topology_ql", "context": "sop", "type": "node", "icon": "VIEW/display_particle_origins"}, "title": ["Point Topology qL"]}