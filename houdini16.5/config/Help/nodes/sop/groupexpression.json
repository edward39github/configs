{"body": [{"indent": 0, "text": ["Group Expression"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Runs VEX expressions to modify group membership."]}, {"body": [{"indent": 0, "type": "para", "text": ["This node ", {"text": ["runs the expression on every point/primitive/vertex"], "type": "em"}, "\n(depending on the ", {"text": ["Class"], "type": "ui"}, " parameter) in the input geometry.\nEach expression will be assigned to the specified group.  To get the group\u2019s\ncurrent value, use the ", {"text": ["@group_"], "type": "code"}, " syntax.\nIt can access information from other geometry using attributes and VEX functions."]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": ["Unlike Wrangle nodes, you do not have to write a complete VEX statement, only a VEX expression.  Each expression is wrapped with an assignment to the given group and a semicolon.  If you need to write a more complicated multi-line function, use the Attribute Wrangle with ", {"text": ["@group_"], "type": "code"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["The generated VEX snippet can be viewed by updating the generated code tab."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["Press ", {"keys": ["MMB"], "text": null, "type": "keys"}, " on the node to see any error output from the snippet."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["You can use the VEX function ", {"text": ["ch"], "type": "code"}, " to evaluate parameters.\n  The path is relative to this node (", {"text": ["ch(\"parm\")"], "type": "code"}, " will evaluate the parameter ", {"text": ["parm"], "type": "code"}, " on this node). This evaluation will be done at the current time."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["Unlike the ", {"text": ["Attrib Create SOP"], "fullpath": "/nodes/sop/attribcreate", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribcreate"}, ", this does not use local variables.\n  Further, all backtick expressions and ", {"text": ["$F"], "type": "code"}, " variables will be evaluated at frame 1,\n  not the current time.\n  Use ", {"text": ["@Frame"], "type": "code"}, ", ", {"text": ["@Time"], "type": "code"}, ", or ", {"text": ["@TimeInc"], "type": "code"}, " instead."]}], "container": true, "type": "bullet_group"}, {"body": [{"type": "para", "indent": 0, "text": ["The ", {"text": ["VEX snippet"], "type": "ui"}, " parameter lets you enter a snippet of ", {"text": ["VEX code"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, " to run on the input geometry.\nSee ", {"text": ["VEX snippets"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " for information on special syntax in the snippet parameter.\nSee ", {"text": ["the VEX chapter"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, " for information on the VEX language."]}], "container": true, "level": 3, "text": ["Syntax"], "indent": 0, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Overview"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["What type of groups to edit.  All group expressions are run\n    in a single pass so must have the same group type."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Group Type"]}, {"body": [{"indent": 4, "type": "para", "text": ["Number of vexpressions to apply."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Group VEXpressions"]}, {"body": [{"indent": 4, "type": "para", "text": ["Name of group to generate."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Group"]}, {"body": [{"indent": 4, "type": "para", "text": ["A single expression in VEX, with no assignment or semi-colon."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["VEXpression"]}, {"body": [{"indent": 4, "type": "para", "text": ["How to merge the expression with any existing group of the same name."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Merge Op"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["VEXpressions"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["VEX functions like ", {"text": ["ch()"], "type": "code"}, " usually evaluate with respect to this node.\n    Enter a node path here to override where the path search starts from.\n    This is useful for embedding in a digital asset, where you want searches\n    to start from the asset root."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Evaluation Node Path"]}, {"body": [{"indent": 4, "type": "para", "text": ["Which attribute to use for matching.  This attribute must be\n    present on both inputs for matching to be done.  Otherwise matching\n    is done by element number (e.g., point number when running over points).\n    The attribute should either be an integer or string attribute.\n    This controls how the ", {"text": ["opinput#_"], "type": "code"}, " virtual bindings connect.\n    You can use ", {"text": ["v@opinput1_Cd"], "type": "code"}, ", for example, to read the second input\u2019s\n    ", {"text": ["v@Cd"], "type": "code"}, " attribute."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Attribute To Match"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Bindings"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["Updates the generated code parameter with the the current state\n    of the set of snippets."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Update Code"]}, {"body": [{"indent": 4, "type": "para", "text": ["The equivalent code for an ", {"text": ["Attribute Wrangle SOP"], "fullpath": "/nodes/sop/attribwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribwrangle"}, " to perform the\n    functions of the expressions.  This is useful if a simple expression becomes complicated and you want to upgrade it to a full wrangle SOP. Changing this does not affect the behavior of the node."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Generated Code"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Generated Code"], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/attribvop", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribvop"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/attribwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribwrangle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/groupcreate", "scheme": "Node", "type": "link", "value": "/nodes/sop/groupcreate"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}], "title": ["Group Expression"], "summary": ["Runs VEX expressions to modify group membership."], "attrs": {"version": null, "tags": "groups, vex, tech", "namespace": null, "internal": "groupexpression", "context": "sop", "type": "node", "icon": "SOP/groupexpression"}, "included": ["/nodes/sop/wrangle_syntax"], "type": "root"}