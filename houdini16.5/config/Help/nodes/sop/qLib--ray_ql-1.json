{"body": [{"indent": 0, "text": ["Ray qL"], "type": "title", "level": 0}, {"indent": 0, "type": "para", "text": [{"text": ["interface version 1"], "type": "strong"}]}, {"indent": 0, "type": "summary", "text": ["An alternative version of the original ", {"text": ["Ray SOP"], "fullpath": "/nodes/sop/ray", "scheme": "Node", "type": "link", "value": "/nodes/sop/ray"}, " (with some extra features)."]}, {"indent": 0, "type": "para", "text": [{"text": "", "fullpath": "/nodes/sop/qLib--ray_ql-1/ray_ql_sop_main.png", "scheme": "Image", "type": "link", "value": "/nodes/sop/qLib--ray_ql-1/ray_ql_sop_main.png"}]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": ["Ray and Stick: on the left, points are rayed on a torus, and intersection attributes are stored;\n  on the right, the points are sticked on the deformed geometry (based on the intersection attribs)."], "type": "em"}]}], "container": true, "type": "bullet_group"}, {"indent": 0, "type": "para", "text": ["There are both advantages and disadvantages, compared to the original Ray SOP."]}, {"body": [{"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": ["Much faster, especially on large data sets"], "type": "strong"}, " and multi-threaded (the main reason for this OPs existence)."]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Can create both ray hit and ray miss point groups"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": ["\"Stick\" mode"], "type": "strong"}, ": once points are rayed to a geometry,\n      they can be sticked onto a deforming version of the geometry,\n      using the generated primitive index and U/V attributes"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["Advantages"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Can only work in Project Rays mode (no Minimum Distance mode)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["No multiple ray samples (although that\u2019s very useful for geometry with holes)"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["Limitations"]}], "container": true, "type": "dt_group"}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["The ", {"text": ["poly soup"], "type": "em"}, " geometry type can be used as a collider and it\u2019s ", {"text": ["much faster"], "type": "em"}, " to triangulate\n    than regular polygons (can be 10-15 ", {"text": ["times"], "type": "em"}, " faster)."]}], "indent": 0, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "text": ["Triangulate the collision (2nd) geometry."]}, {"indent": 8, "type": "para", "text": ["Non-planar polygons as ray colliders might give inaccurate results\n        (usually resulting in \"spikes\" appering in the projected geometry).\n        If this happens, try enabling this option."]}, {"indent": 8, "type": "para", "text": ["This option can be slow for large geometry (see ", {"text": ["Optimize"], "type": "em"}, " below)."]}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Triangulate Collider"]}, {"body": [{"indent": 8, "type": "para", "text": ["This option \"optimizes\" the collision geometry before triangulation\n        (currently it converts it to a poly soup, as it is very fast to triangulate)."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["When building a Ray/Stick workflow, do ", {"text": ["not"], "type": "strong"}, " enable ", {"text": ["Triangulate"], "type": "em"}, " or ", {"text": ["Optimize"], "type": "em"}, "\n            (they change the topology), and don\u2019t use the poly soup type as collider."]}], "indent": 8, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Optimize (Pre-Triangulate)"]}, {"body": [{"indent": 8, "type": "para", "text": ["Regular ray mode \u2013 projection of points onto a collision geometry."]}, {"indent": 8, "type": "para", "text": ["For most parameter descriptions see ", {"text": ["the original Ray SOP documentation"], "fullpath": "/nodes/sop/ray", "scheme": "Node", "type": "link", "value": "/nodes/sop/ray"}, "."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["Create a vector attribute that points from the intersection points back to their\n            original positions."]}], "indent": 8, "type": "dt", "text": ["Ray Attribute"]}, {"body": [{"indent": 12, "type": "para", "text": ["Reverse the direction of the ", {"text": ["Ray Attribute"], "type": "em"}, " vectors."]}], "indent": 8, "type": "dt", "text": ["Flip"]}, {"body": [{"indent": 12, "type": "para", "text": ["Store individual ray distances in a float attribute."]}], "indent": 8, "type": "dt", "text": ["Distance Attribute"]}, {"body": [{"indent": 12, "type": "para", "text": ["Add points to this group that hit the target surface."]}], "indent": 8, "type": "dt", "text": ["Ray Hit Group"]}, {"body": [{"indent": 12, "type": "para", "text": ["Add points to this group that missed the target surface."]}], "indent": 8, "type": "dt", "text": ["Ray Miss Group"]}, {"body": [{"indent": 12, "type": "para", "text": ["If enabled, the specified per-point attributes will be retrieved from the\n            hit points of the collision geometry."]}], "indent": 8, "type": "dt", "text": ["Import Attributes from Hits"]}, {"body": [{"indent": 12, "type": "para", "text": ["If enabled, all intersection information (intersected primitive number, U/V coordinates)\n            will be preserved."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["The intersection U/V attributes are per-primitive barycentric coordinates\n                (and ", {"text": ["not"], "type": "em"}, " regular UV texture coordinates)."]}], "indent": 12, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Names of the extra intersection attributes."]}], "indent": 12, "type": "dt", "text": ["Prim, U, V Attribs"]}], "container": true, "type": "dt_group"}], "indent": 8, "type": "dt", "text": ["Keep Intersection Attribs"]}, {"body": [{"indent": 12, "type": "para", "text": ["Temporary, debugging-related parameter (will be removed)."]}], "indent": 8, "type": "dt", "text": ["Debug (Show Code)"]}], "container": true, "type": "dt_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Ray"]}, {"body": [{"indent": 8, "type": "para", "text": ["This mode sticks points (from the first input) to the surface of the geometry\n        connected to the second input."]}, {"indent": 8, "type": "para", "text": ["Sticking requires per-point attributes for primitive index and U/V coordinates\n        on each point of the 1st geometry.\n        (These attributes can be generated with a Ray qL SOP in regular Ray mode.)"]}, {"indent": 8, "type": "para", "text": ["Stick works ", {"text": ["only with regular polygons"], "type": "em"}, " (i.e. no poly soups)."]}, {"body": [{"body": [{"indent": 12, "type": "para", "text": ["The standard issue deformer-weighting parameters."]}], "indent": 8, "type": "dt", "text": ["Envelope, Weighting, etc."]}, {"body": [{"indent": 12, "type": "para", "text": ["Names of the per-point intersection attributes for sticking each point\n            to the surface of the secondary input geometry."]}], "indent": 8, "type": "dt", "text": ["Prim Num, U, V Attrib"]}], "container": true, "type": "dt_group"}], "indent": 4, "role": "item", "type": "parameters_item", "text": ["Stick"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Support multiple ray samples"]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": ["To Do:"], "role": "section", "container": true, "type": "todo_section", "id": "todo"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/ray", "scheme": "Node", "type": "link", "value": "/nodes/sop/ray"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}, {"body": [{"indent": 0, "type": "para", "text": [{"text": ["interface version 1"], "type": "em"}, " \u2014"]}, {"body": [{"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Minor help page fixes."]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-08-09"]}, {"body": [{"indent": 4, "type": "para", "text": ["Since poly soups turned out to be crazy fast to triangulate\u2026"]}, {"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added pre-triangulate Optimize option"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Updated help page accordingly (with info on poly soups)"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Minor UI c.c.'s"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-07-17"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added Triangulate option"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-06-19"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Descriptive parm"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-03-26"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Added \"Show Guide Geometry\" toggle"]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": ["Set 2nd input as reference"]}], "container": true, "type": "bullet_group"}], "indent": 0, "type": "dt", "text": ["2014-03-25"]}, {"body": [{"indent": 4, "type": "para", "text": ["Added \"Stick\" mode."]}], "indent": 0, "type": "dt", "text": ["2014-02-19"]}, {"body": [{"indent": 4, "type": "para", "text": ["Friday the 13th: Updated to H13 (hopefully)."]}], "indent": 0, "type": "dt", "text": ["2013-12-13"]}, {"body": [{"indent": 4, "type": "para", "text": ["Added \"Import Attributes from Hits\" (experimental)."]}], "indent": 0, "type": "dt", "text": ["2013-08-14"]}, {"body": [{"indent": 4, "type": "para", "text": ["First version."]}], "indent": 0, "type": "dt", "text": ["2013-08-03"]}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": ["Release Notes"], "role": "section", "container": true, "type": "relnotes_section", "id": "relnotes"}], "summary": ["An alternative version of the original ", {"text": ["Ray SOP"], "fullpath": "/nodes/sop/ray", "scheme": "Node", "type": "link", "value": "/nodes/sop/ray"}, " (with some extra features)."], "type": "root", "attrs": {"version": "1", "namespace": "qLib", "internal": "ray_ql", "context": "sop", "type": "node", "icon": "VOP/intersect"}, "title": ["Ray qL"]}